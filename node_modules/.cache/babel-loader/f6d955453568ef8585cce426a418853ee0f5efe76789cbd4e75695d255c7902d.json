{"ast":null,"code":"import React,{useState}from\"react\";import\"../styles/Register.css\";// Import external CSS file\nimport{useNavigate}from\"react-router-dom\";import JobListingimg from\"../assets/job-listing.jpg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const Register=()=>{const navigate=useNavigate();// State for form inputs\nconst[formData,setFormData]=useState({name:\"\",// Change 'username' to 'name'\nemail:\"\",password:\"\",mobile:\"\",role:\"user\"});const[error,setError]=useState(\"\");const[isChecked,setIsChecked]=useState(false);// ✅ Checkbox state\n// Handle input change\nconst handleChange=e=>{const{name,value,type,checked}=e.target;if(type===\"checkbox\"){setIsChecked(checked);// ✅ Handle checkbox separately\n}else{setFormData({...formData,[name]:value});}};// Form validation\nconst validateForm=()=>{const{name,email,password,mobile}=formData;// Use 'name' instead of 'username'\nif(!name||!email||!password||!mobile){return\"All fields are required.\";}if(!/\\S+@\\S+\\.\\S+/.test(email)){return\"Please enter a valid email address.\";}if(password.length<6){return\"Password must be at least 6 characters.\";}if(!/^\\d{10}$/.test(mobile)){return\"Please enter a valid 10-digit mobile number.\";}if(!isChecked){return\"You must agree to the Terms of Use and Privacy Policy.\";}return\"\";};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();setError(\"\");// Reset previous errors\nconst validationError=validateForm();if(validationError){setError(validationError);return;}try{const response=await fetch(`${API_BASE_URL}/api/users/register`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){alert(\"Account created successfully! You can now log in.\");navigate(\"/login\");}else{setError(data.message||\"Something went wrong.\");}}catch(err){setError(\"Server error. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"registration-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create An Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your Personal Job Finder Is Here\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\"// Use 'name' here to match with backend\n,placeholder:\"Username\",value:formData.name// 'name' in the state\n,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"mobile\",placeholder:\"Mobile\",value:formData.mobile,onChange:handleChange,required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"terms-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"terms\",checked:isChecked,onChange:handleChange,className:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"terms\",className:\"terms-text\",children:\"By creating an account, I agree to our Terms of Use and privacy Policy\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"create-account-button\",type:\"submit\",children:\"Create Account\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"signin-text\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(\"/login\"),className:\"signin-link\",children:\"Sign In\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"registration-image\",children:/*#__PURE__*/_jsx(\"img\",{src:JobListingimg,alt:\"Login Visual\"})})]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","JobListingimg","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","Register","navigate","formData","setFormData","name","email","password","mobile","role","error","setError","isChecked","setIsChecked","handleChange","e","value","type","checked","target","validateForm","test","length","handleSubmit","preventDefault","validationError","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","err","className","children","onSubmit","placeholder","onChange","required","id","htmlFor","onClick","src","alt"],"sources":["V:/JB-Listing-Portal/job-listing-frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles/Register.css\"; // Import external CSS file\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport JobListingimg from \"../assets/job-listing.jpg\";\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // State for form inputs\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",  // Change 'username' to 'name'\r\n    email: \"\",\r\n    password: \"\",\r\n    mobile: \"\",\r\n    role: \"user\",\r\n  });\r\n  \r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [isChecked, setIsChecked] = useState(false); // ✅ Checkbox state\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    if (type === \"checkbox\") {\r\n      setIsChecked(checked); // ✅ Handle checkbox separately\r\n    } else {\r\n      setFormData({ ...formData, [name]: value });\r\n    }\r\n  };\r\n\r\n  // Form validation\r\n  const validateForm = () => {\r\n    const { name, email, password, mobile } = formData; // Use 'name' instead of 'username'\r\n  \r\n    if (!name || !email || !password || !mobile) {\r\n      return \"All fields are required.\";\r\n    }\r\n  \r\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      return \"Please enter a valid email address.\";\r\n    }\r\n  \r\n    if (password.length < 6) {\r\n      return \"Password must be at least 6 characters.\";\r\n    }\r\n  \r\n    if (!/^\\d{10}$/.test(mobile)) {\r\n      return \"Please enter a valid 10-digit mobile number.\";\r\n    }\r\n  \r\n    if (!isChecked) {\r\n      return \"You must agree to the Terms of Use and Privacy Policy.\";\r\n    }\r\n  \r\n    return \"\";\r\n  };\r\n  \r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\"); // Reset previous errors\r\n\r\n    const validationError = validateForm();\r\n    if (validationError) {\r\n      setError(validationError);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/users/register`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(\"Account created successfully! You can now log in.\");\r\n        navigate(\"/login\");\r\n      } else {\r\n        setError(data.message || \"Something went wrong.\");\r\n      }\r\n    } catch (err) {\r\n      setError(\"Server error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-page-container\">\r\n      <div className=\"registration-form-container\">\r\n        <h2>Create An Account</h2>\r\n        <p>Your Personal Job Finder Is Here</p>\r\n\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n        <div className=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"  // Use 'name' here to match with backend\r\n            placeholder=\"Username\"\r\n            value={formData.name}  // 'name' in the state\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"input-group\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"tel\"\r\n              name=\"mobile\"\r\n              placeholder=\"Mobile\"\r\n              value={formData.mobile}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"terms-container\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"terms\"\r\n              checked={isChecked}\r\n              onChange={handleChange}\r\n              className=\"checkbox\"\r\n            />\r\n            <label htmlFor=\"terms\" className=\"terms-text\">\r\n              By creating an account, I agree to our Terms of Use and privacy Policy\r\n            </label>\r\n          </div>\r\n          <button className=\"create-account-button\" type=\"submit\">\r\n            Create Account\r\n          </button>\r\n        </form>\r\n        <p className=\"signin-text\">\r\n          Already have an account? <span onClick={() => navigate(\"/login\")} className=\"signin-link\">Sign In</span>\r\n        </p>\r\n      </div>\r\n      <div className=\"registration-image\">\r\n        <img src={JobListingimg} alt=\"Login Visual\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,wBAAwB,CAAE;AACjC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACtD,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAGvD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,CACvCe,IAAI,CAAE,EAAE,CAAG;AACXC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAE,MACR,CAAC,CAAC,CAGF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACsB,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAAE;AAEnD;AACA,KAAM,CAAAwB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEV,IAAI,CAAEW,KAAK,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGH,CAAC,CAACI,MAAM,CAC/C,GAAIF,IAAI,GAAK,UAAU,CAAE,CACvBJ,YAAY,CAACK,OAAO,CAAC,CAAE;AACzB,CAAC,IAAM,CACLd,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAE,CAACE,IAAI,EAAGW,KAAM,CAAC,CAAC,CAC7C,CACF,CAAC,CAED;AACA,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEf,IAAI,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAGL,QAAQ,CAAE;AAEpD,GAAI,CAACE,IAAI,EAAI,CAACC,KAAK,EAAI,CAACC,QAAQ,EAAI,CAACC,MAAM,CAAE,CAC3C,MAAO,0BAA0B,CACnC,CAEA,GAAI,CAAC,cAAc,CAACa,IAAI,CAACf,KAAK,CAAC,CAAE,CAC/B,MAAO,qCAAqC,CAC9C,CAEA,GAAIC,QAAQ,CAACe,MAAM,CAAG,CAAC,CAAE,CACvB,MAAO,yCAAyC,CAClD,CAEA,GAAI,CAAC,UAAU,CAACD,IAAI,CAACb,MAAM,CAAC,CAAE,CAC5B,MAAO,8CAA8C,CACvD,CAEA,GAAI,CAACI,SAAS,CAAE,CACd,MAAO,wDAAwD,CACjE,CAEA,MAAO,EAAE,CACX,CAAC,CAGD;AACA,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAR,CAAC,EAAK,CAChCA,CAAC,CAACS,cAAc,CAAC,CAAC,CAClBb,QAAQ,CAAC,EAAE,CAAC,CAAE;AAEd,KAAM,CAAAc,eAAe,CAAGL,YAAY,CAAC,CAAC,CACtC,GAAIK,eAAe,CAAE,CACnBd,QAAQ,CAACc,eAAe,CAAC,CACzB,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAG9B,YAAY,qBAAqB,CAAE,CACjE+B,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC7B,QAAQ,CAC/B,CAAC,CAAC,CAEF,KAAM,CAAA8B,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACfC,KAAK,CAAC,mDAAmD,CAAC,CAC1DlC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLS,QAAQ,CAACsB,IAAI,CAACI,OAAO,EAAI,uBAAuB,CAAC,CACnD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZ3B,QAAQ,CAAC,iCAAiC,CAAC,CAC7C,CACF,CAAC,CAED,mBACEf,KAAA,QAAK2C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5C,KAAA,QAAK2C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C9C,IAAA,OAAA8C,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B9C,IAAA,MAAA8C,QAAA,CAAG,kCAAgC,CAAG,CAAC,CAEtC9B,KAAK,eAAIhB,IAAA,MAAG6C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE9B,KAAK,CAAI,CAAC,cAElDd,KAAA,SAAM6C,QAAQ,CAAElB,YAAa,CAAAiB,QAAA,eAC7B9C,IAAA,QAAK6C,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B9C,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXZ,IAAI,CAAC,MAAQ;AAAA,CACbqC,WAAW,CAAC,UAAU,CACtB1B,KAAK,CAAEb,QAAQ,CAACE,IAAO;AAAA,CACvBsC,QAAQ,CAAE7B,YAAa,CACvB8B,QAAQ,MACT,CAAC,CACC,CAAC,cACNlD,IAAA,QAAK6C,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxB9C,IAAA,UACEuB,IAAI,CAAC,OAAO,CACZZ,IAAI,CAAC,OAAO,CACZqC,WAAW,CAAC,OAAO,CACnB1B,KAAK,CAAEb,QAAQ,CAACG,KAAM,CACtBqC,QAAQ,CAAE7B,YAAa,CACvB8B,QAAQ,MACT,CAAC,CACC,CAAC,cACNlD,IAAA,QAAK6C,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B9C,IAAA,UACEuB,IAAI,CAAC,UAAU,CACfZ,IAAI,CAAC,UAAU,CACfqC,WAAW,CAAC,UAAU,CACtB1B,KAAK,CAAEb,QAAQ,CAACI,QAAS,CACzBoC,QAAQ,CAAE7B,YAAa,CACvB8B,QAAQ,MACT,CAAC,CACC,CAAC,cACNlD,IAAA,QAAK6C,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B9C,IAAA,UACEuB,IAAI,CAAC,KAAK,CACVZ,IAAI,CAAC,QAAQ,CACbqC,WAAW,CAAC,QAAQ,CACpB1B,KAAK,CAAEb,QAAQ,CAACK,MAAO,CACvBmC,QAAQ,CAAE7B,YAAa,CACvB8B,QAAQ,MACT,CAAC,CACC,CAAC,cAENhD,KAAA,QAAK2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9C,IAAA,UACEuB,IAAI,CAAC,UAAU,CACf4B,EAAE,CAAC,OAAO,CACV3B,OAAO,CAAEN,SAAU,CACnB+B,QAAQ,CAAE7B,YAAa,CACvByB,SAAS,CAAC,UAAU,CACrB,CAAC,cACF7C,IAAA,UAAOoD,OAAO,CAAC,OAAO,CAACP,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,wEAE9C,CAAO,CAAC,EACL,CAAC,cACN9C,IAAA,WAAQ6C,SAAS,CAAC,uBAAuB,CAACtB,IAAI,CAAC,QAAQ,CAAAuB,QAAA,CAAC,gBAExD,CAAQ,CAAC,EACL,CAAC,cACP5C,KAAA,MAAG2C,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,2BACA,cAAA9C,IAAA,SAAMqD,OAAO,CAAEA,CAAA,GAAM7C,QAAQ,CAAC,QAAQ,CAAE,CAACqC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EACvG,CAAC,EACD,CAAC,cACN9C,IAAA,QAAK6C,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjC9C,IAAA,QAAKsD,GAAG,CAAExD,aAAc,CAACyD,GAAG,CAAC,cAAc,CAAE,CAAC,CAC3C,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}