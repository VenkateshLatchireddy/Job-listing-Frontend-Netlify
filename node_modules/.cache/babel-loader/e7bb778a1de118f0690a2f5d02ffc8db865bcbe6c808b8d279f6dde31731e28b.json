{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Routes,Route,useLocation,Navigate}from'react-router-dom';import Login from'./pages/Login';import Register from'./pages/Register';import Navbar from'./components/Navbar/Navbar';import SearchAndSort from'./components/SearchAndSort/SearchAndSort';import JobListing from'./components/JobListing/JobListing';import AddJobDetails from'./components/AddJobDescription/AddJobDescription';import JobDetails from'./components/JobDetails/JobDetails';import Profile from'./components/Profile/Profile';import axios from'axios';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[jobs,setJobs]=useState([]);const location=useLocation();useEffect(()=>{const token=localStorage.getItem('accessToken');// Change to 'accessToken'\nif(token)setIsLoggedIn(true);fetchJobs();// Fetch jobs on mount\n},[]);// ðŸ”¥ Fetch jobs with filters\nconst fetchJobs=async function(){let searchTerm=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let skills=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];try{const response=await axios.get(`${API_BASE_URL}/api/jobs`,{params:{searchTerm,skills:skills.join(\",\")}});setJobs(response.data.jobs);// ðŸ”¥ Update job list\n}catch(error){console.error(\"Error fetching jobs:\",error);}};const hideNavbarOnPages=[\"/login\",\"/register\",\"/add-job\"];const hideSearchAndJobsOnPages=[\"/add-job\",\"/login\",\"/register\",\"/profile\"];const isJobDetailsPage=location.pathname.startsWith(\"/job/\");return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),!hideNavbarOnPages.includes(location.pathname)&&/*#__PURE__*/_jsx(Navbar,{isLoggedIn:isLoggedIn,setIsLoggedIn:setIsLoggedIn}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-main-content\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setIsLoggedIn:setIsLoggedIn,fetchJobs:fetchJobs})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-job\",element:isLoggedIn?/*#__PURE__*/_jsx(AddJobDetails,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/job/:id\",element:/*#__PURE__*/_jsx(JobDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:isLoggedIn?/*#__PURE__*/_jsx(Profile,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]}),!isJobDetailsPage&&!hideSearchAndJobsOnPages.includes(location.pathname)&&/*#__PURE__*/_jsxs(\"div\",{className:\"job-listing-container\",children:[/*#__PURE__*/_jsx(SearchAndSort,{isLoggedIn:isLoggedIn,onFilter:fetchJobs}),/*#__PURE__*/_jsx(JobListing,{jobs:jobs})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","useLocation","Navigate","Login","Register","Navbar","SearchAndSort","JobListing","AddJobDetails","JobDetails","Profile","axios","ToastContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","App","isLoggedIn","setIsLoggedIn","jobs","setJobs","location","token","localStorage","getItem","fetchJobs","searchTerm","arguments","length","undefined","skills","response","get","params","join","data","error","console","hideNavbarOnPages","hideSearchAndJobsOnPages","isJobDetailsPage","pathname","startsWith","children","includes","className","path","element","to","onFilter"],"sources":["V:/JB-Listing-Portal/job-listing-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Routes, Route, useLocation, Navigate } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport SearchAndSort from './components/SearchAndSort/SearchAndSort';\r\nimport JobListing from './components/JobListing/JobListing';\r\nimport AddJobDetails from './components/AddJobDescription/AddJobDescription';\r\nimport JobDetails from './components/JobDetails/JobDetails';\r\nimport Profile from './components/Profile/Profile';\r\nimport axios from 'axios';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [jobs, setJobs] = useState([]);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('accessToken'); // Change to 'accessToken'\r\n    if (token) setIsLoggedIn(true);\r\n    fetchJobs(); // Fetch jobs on mount\r\n  }, []);\r\n\r\n  // ðŸ”¥ Fetch jobs with filters\r\n  const fetchJobs = async (searchTerm = \"\", skills = []) => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/api/jobs`, {\r\n        params: { searchTerm, skills: skills.join(\",\") },\r\n      });\r\n      setJobs(response.data.jobs); // ðŸ”¥ Update job list\r\n    } catch (error) {\r\n      console.error(\"Error fetching jobs:\", error);\r\n    }\r\n  };\r\n\r\n  const hideNavbarOnPages = [\"/login\", \"/register\", \"/add-job\"];\r\n  const hideSearchAndJobsOnPages = [\"/add-job\", \"/login\", \"/register\", \"/profile\"];\r\n  const isJobDetailsPage = location.pathname.startsWith(\"/job/\");\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      {!hideNavbarOnPages.includes(location.pathname) && (\r\n        <Navbar isLoggedIn={isLoggedIn} setIsLoggedIn={setIsLoggedIn} />\r\n      )}\r\n\r\n      <div className=\"app-main-content\">\r\n        <Routes>\r\n          <Route path=\"/login\" element={<Login setIsLoggedIn={setIsLoggedIn} fetchJobs={fetchJobs} />} />\r\n          <Route path=\"/register\" element={<Register />} />\r\n          <Route path=\"/add-job\" element={isLoggedIn ? <AddJobDetails /> : <Navigate to=\"/login\" />} />\r\n          <Route path=\"/job/:id\" element={<JobDetails />} />\r\n          <Route path=\"/profile\" element={isLoggedIn ? <Profile /> : <Navigate to=\"/login\" />} />\r\n        </Routes>\r\n\r\n        {!isJobDetailsPage && !hideSearchAndJobsOnPages.includes(location.pathname) && (\r\n          <div className=\"job-listing-container\">\r\n            <SearchAndSort isLoggedIn={isLoggedIn} onFilter={fetchJobs} />\r\n            <JobListing jobs={jobs} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}