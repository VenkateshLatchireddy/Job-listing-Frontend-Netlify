{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{Clock,MapPin,IndianRupee,Pencil}from\"lucide-react\";import\"./JobDetails.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const SkillBadge=_ref=>{let{skill}=_ref;return/*#__PURE__*/_jsx(\"span\",{className:\"jobdetails-skill-badge\",children:skill});};function JobDetails(){const{id}=useParams();const[job,setJob]=useState(null);const[loading,setLoading]=useState(true);const[currentUserId,setCurrentUserId]=useState(null);useEffect(()=>{// ðŸ”¹ Get logged-in user ID from local storage\nconst userId=localStorage.getItem(\"userId\");setCurrentUserId(userId);// ðŸ”¹ Fetch job details\naxios.get(`${API_BASE_URL}/api/jobs/${id}`).then(response=>{console.log(response.data);// Log to check the response\nsetJob(response.data);setLoading(false);}).catch(error=>{console.error(\"Error fetching job details:\",error);setLoading(false);});},[id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(!job)return/*#__PURE__*/_jsx(\"div\",{children:\"Job not found\"});// ðŸ”¹ Check if logged-in user is the job owner\nconst isOwner=currentUserId&&currentUserId===job.userId;return/*#__PURE__*/_jsx(\"div\",{className:\"jobdetails-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"jobdetails-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-meta\",children:[/*#__PURE__*/_jsx(Clock,{className:\"jobdetails-icon\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Posted \",new Date(job.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"span\",{className:\"jobdetails-separator\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:job.jobType})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"jobdetails-title\",children:job.jobPosition}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-location\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"jobdetails-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:job.location})]})]}),isOwner&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-edit-\",children:\"Edit Job\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"jobdetails-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"jobdetails-detail-label\",children:\"Monthly Salary:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"jobdetails-detail-text\",children:[\"\\u20B9\",job.monthlySalary]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"jobdetails-detail-label\",children:\"Duration:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"jobdetails-detail-text\",children:\"6 Months\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"company-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About the company\"}),/*#__PURE__*/_jsx(\"p\",{children:job.aboutCompany})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"jobdetails-description\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About the job/internship\"}),/*#__PURE__*/_jsx(\"p\",{children:job.jobDescription}),/*#__PURE__*/_jsx(\"h3\",{children:\"Responsibilities:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"jobdetails-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Work on the development of theme customization\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Implement system integrations\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Contribute to the development of HTML5/CSS/JavaScript\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Optimize for mobile-friendly websites\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"skills-required\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Skills Required\"}),/*#__PURE__*/_jsx(\"div\",{className:\"jobdetails-skills-container\",children:job.skillsRequired.split(\",\").map((skill,index)=>/*#__PURE__*/_jsx(SkillBadge,{skill:skill},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"additional-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Additional Information\"}),/*#__PURE__*/_jsx(\"p\",{children:job.additionalInfo})]})]})})});}export default JobDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Clock","MapPin","IndianRupee","Pencil","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","SkillBadge","_ref","skill","className","children","JobDetails","id","job","setJob","loading","setLoading","currentUserId","setCurrentUserId","userId","localStorage","getItem","get","then","response","console","log","data","catch","error","isOwner","Date","createdAt","toLocaleDateString","jobType","jobPosition","location","monthlySalary","aboutCompany","jobDescription","skillsRequired","split","map","index","additionalInfo"],"sources":["V:/JB-Listing-Portal/job-listing-frontend/src/components/JobDetails/JobDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Clock, MapPin, IndianRupee, Pencil } from \"lucide-react\";\r\nimport \"./JobDetails.css\";\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\n\r\nconst SkillBadge = ({ skill }) => <span className=\"jobdetails-skill-badge\">{skill}</span>;\r\n\r\nfunction JobDetails() {\r\n  const { id } = useParams();\r\n  const [job, setJob] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentUserId, setCurrentUserId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // ðŸ”¹ Get logged-in user ID from local storage\r\n    const userId = localStorage.getItem(\"userId\");\r\n    setCurrentUserId(userId);\r\n\r\n    // ðŸ”¹ Fetch job details\r\n    axios.get(`${API_BASE_URL}/api/jobs/${id}`)\r\n      .then((response) => {\r\n        console.log(response.data);  // Log to check the response\r\n        setJob(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching job details:\", error);\r\n        setLoading(false);\r\n      });\r\n}, [id]);\r\n\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (!job) return <div>Job not found</div>;\r\n\r\n  // ðŸ”¹ Check if logged-in user is the job owner\r\n  const isOwner = currentUserId && currentUserId === job.userId;\r\n\r\n\r\n  return (\r\n                <div className=\"jobdetails-wrapper\">\r\n                  <div className=\"jobdetails-container\">\r\n                    <div className=\"jobdetails-card\">\r\n                    <div className=\"jobdetails-header\">\r\n              <div className=\"jobdetails-content\">\r\n                <div className=\"jobdetails-meta\">\r\n                  <Clock className=\"jobdetails-icon\" />\r\n                  <span>Posted {new Date(job.createdAt).toLocaleDateString()}</span>\r\n                  <span className=\"jobdetails-separator\">â€¢</span>\r\n                  <span>{job.jobType}</span>\r\n                </div>\r\n                <h1 className=\"jobdetails-title\">{job.jobPosition}</h1>\r\n                <div className=\"jobdetails-location\">\r\n                  <MapPin className=\"jobdetails-icon\" />\r\n                  <span>{job.location}</span>\r\n                </div>\r\n              </div>\r\n  \r\n              {isOwner && (\r\n                <button className=\"btn-edit-\">\r\n                  Edit Job\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div className=\"jobdetails-section\">\r\n            <div className=\"jobdetails-grid\">\r\n              <div className=\"jobdetails-detail\">\r\n                <p className=\"jobdetails-detail-label\">Monthly Salary:</p>\r\n                <p className=\"jobdetails-detail-text\">â‚¹{job.monthlySalary}</p>\r\n              </div>\r\n              <div className=\"jobdetails-detail\">\r\n                <p className=\"jobdetails-detail-label\">Duration:</p>\r\n                <p className=\"jobdetails-detail-text\">6 Months</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"company-info\">\r\n            <h2>About the company</h2>\r\n            <p>{job.aboutCompany}</p>\r\n          </div>\r\n\r\n          <div className=\"jobdetails-description\">\r\n            <h2>About the job/internship</h2>\r\n            <p>{job.jobDescription}</p>\r\n            <h3>Responsibilities:</h3>\r\n            <ul className=\"jobdetails-list\">\r\n              <li>Work on the development of theme customization</li>\r\n              <li>Implement system integrations</li>\r\n              <li>Contribute to the development of HTML5/CSS/JavaScript</li>\r\n              <li>Optimize for mobile-friendly websites</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"skills-required\">\r\n            <h2>Skills Required</h2>\r\n            <div className=\"jobdetails-skills-container\">\r\n              {job.skillsRequired.split(\",\").map((skill, index) => (\r\n                <SkillBadge key={index} skill={skill} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"additional-info\">\r\n            <h2>Additional Information</h2>\r\n            <p>{job.additionalInfo}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JobDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}